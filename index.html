<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herbalife Calculator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

        * {
            font-family: 'Roboto', sans-serif;
        }

        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td,
        th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even) {
            background-color: #dddddd;
        }

        #addBth {
            background-color: green;
            color: white;
            font-size: 30px;
            width: 50px;
            margin-top: 5px;
            /* border: none; */
            border-radius: 10px;
        }

        td input {
            height: 30px;
            width: 100%;
            font-size: 16px;
        }

        td select {
            height: 35px;
            width: 100%;
            font-size: 16px;
        }

        #totalMainDiv {
            display: flex;
            /* align-items: left; */
            justify-content: end;
            /* padding-right: 2%; */
            background-color: #dddddd;
            width: 100%;
            height: fit-content;
        }

        #totalMainDiv div {
            margin: 5px 2% 5px 0px;
            border: 2px solid gray;
            padding: 2px 30px;
            border-radius: 5px;
        }

        .calButton {
            width: 90%;
            margin: auto;
            height: 30px;
            /* margin-top: 25%; */

        }

        #heading {
            background-color: #dddddd;
            width: 100%;
            height: 70px;
            display: flex;
            justify-content: center;
            text-align: center;
        }
    </style>
</head>

<body>
    <div id="heading">
        <h1>Herbalife Calculator</h1>
    </div>
    <div>
        <table id="table">
            <tr>
                <th>S.no</th>
                <th>Product Name</th>
                <th>QTY</th>
                <th>Volume points</th>
                <th>42% price</th>
                <th>50% price</th>
                <th>ADD</th>
            </tr>
            <!-- <tr>
                <th>S.no</th>
                <th><select name="product" id="priduct">
                        <option value="shake">Formula one Shake</option>
                        <option value="afresh">afresh</option>
                        <option value="pp200">pp200</option>
                        <option value="pp400">pp400</option>

                    </select></th>
                <th><input type="text" placeholder="QTY"></th>
                <th></th>
                <th>50% price</th>
                <td>ADD</td>
            </tr> -->
        </table>
        <button id="addBth">+</button>

    </div>
    <div id="totalMainDiv">
        <div>
            <h3 id="totalVol">Total Volume: 0</h3>
            <h3 id="fortyDiscounted">42% Total Price: 0</h3>
            <h3 id="totalPrice">50% Total Price: 0</h3>
        </div>
    </div>

</body>

</html>
<script>
    var data = {
        'Formula-1': {
            '25': 1571,
            '35': 1401,
            '42': 1283,
            '50': 1147,
            product: 'Formula 1',
            Qty: 1,
            volume: 21.75,
            MRP: 1996,
            retailPrice: 1691,
            earnBase: 1438
        },
        'PPP-200': {
            '25': 933,
            '35': 832,
            '42': 761,
            '50': 681,
            product: 'PPP-200',
            Qty: 1,
            volume: 11.5,
            MRP: 1185,
            retailPrice: 1004,
            earnBase: 854
        },
        'PPP-400': {
            '25': 1792,
            '35': 1598,
            '42': 1463,
            '50': 1308,
            product: 'PPP-400',
            Qty: 1,
            volume: 22.5,
            MRP: 2276,
            retailPrice: 1928,
            earnBase: 1639
        },
        ShakeMate: {
            '25': 524,
            '35': 494,
            '42': 474,
            '50': 450,
            product: 'ShakeMate',
            Qty: 1,
            volume: 6.45,
            MRP: 598,
            retailPrice: 506,
            earnBase: 249
        },
        'Protein-Bites': {
            '25': 502,
            '35': 468,
            '42': 444,
            '50': 417,
            product: 'Protein Bites',
            Qty: 1,
            volume: 4.85,
            MRP: 590,
            retailPrice: 497,
            earnBase: 288
        },
        "Woman's-Choice": {
            '25': 897,
            '35': 800,
            '42': 732,
            '50': 654,
            product: "Woman's Choice",
            Qty: 1,
            volume: 12.45,
            MRP: 1139,
            retailPrice: 965,
            earnBase: 821
        },
        'Vritilife-Brain-Health---60-tablets': {
            '25': 1056,
            '35': 942,
            '42': 862,
            '50': 771,
            product: 'Vritilife Brain Health - 60 tablets',
            Qty: 1,
            volume: 15.1,
            MRP: 1341,
            retailPrice: 1136,
            earnBase: 966
        },
        'Vritilife-Immune-Health---60-tablets': {
            '25': 1102,
            '35': 983,
            '42': 899,
            '50': 804,
            product: 'Vritilife Immune Health - 60 tablets',
            Qty: 1,
            volume: 15.8,
            MRP: 1400,
            retailPrice: 1186,
            earnBase: 1009
        },
        'Afresh-Energy-Drink--50-gms': {
            '25': 585,
            '35': 522,
            '42': 478,
            '50': 427,
            product: 'Afresh Energy Drink- 50 gms',
            Qty: 1,
            volume: 7.8,
            MRP: 744,
            retailPrice: 630,
            earnBase: 536
        },
        'Afresh-Energy-Drink-Mix---Tulsi-(Basil)---50-gms': {
            '25': 592,
            '35': 531,
            '42': 489,
            '50': 440,
            product: 'Afresh Energy Drink Mix - Tulsi (Basil) - 50 gms',
            Qty: 1,
            volume: 7.8,
            MRP: 744,
            retailPrice: 630,
            earnBase: 514
        },
        'H24-Hydrate---5gms-*-20-Sachets': {
            '25': 1226,
            '35': 1117,
            '42': 1041,
            '50': 953,
            product: 'H24 Hydrate - 5gms * 20 Sachets',
            Qty: 1,
            volume: 14.05,
            MRP: 1499,
            retailPrice: 1270,
            earnBase: 924
        },
        'H24-Rebuild-Strength---50gms-*-10-Sachets': {
            '25': 1906,
            '35': 1710,
            '42': 1573,
            '50': 1417,
            product: 'H24 Rebuild Strength - 50gms * 10 Sachets',
            Qty: 1,
            volume: 24.7,
            MRP: 2396,
            retailPrice: 2030,
            earnBase: 1659
        },
        'Hn-Skin-Booster---Orange---10gms-*-30-Sachets': {
            '25': 2919,
            '35': 2655,
            '42': 2470,
            '50': 2259,
            product: 'Hn-Skin Booster - Orange - 10gms * 30 Sachets',
            Qty: 1,
            volume: 38.65,
            MRP: 3581,
            retailPrice: 3034,
            earnBase: 2240
        },
        'DinoShakeTM---Chocolicious---200-gms': {
            '25': 804,
            '35': 717,
            '42': 656,
            '50': 586,
            product: 'DinoShakeTM - Chocolicious - 200 gms',
            Qty: 1,
            volume: 9.6,
            MRP: 1021,
            retailPrice: 865,
            earnBase: 736
        },
        'Activated-Fiber---90-tablets': {
            '25': 1180,
            '35': 1053,
            '42': 963,
            '50': 861,
            product: 'Activated Fiber - 90 tablets',
            Qty: 1,
            volume: 15.75,
            MRP: 1499,
            retailPrice: 1270,
            earnBase: 1080
        },
        'Active-Fiber-Complex--Unflavoured---200-gms': {
            '25': 1845,
            '35': 1646,
            '42': 1506,
            '50': 1347,
            product: 'Active Fiber Complex -Unflavoured - 200 gms',
            Qty: 1,
            volume: 22.95,
            MRP: 2344,
            retailPrice: 1986,
            earnBase: 1689
        },
        'Aloe-Plus---60-capsules': {
            '25': 764,
            '35': 681,
            '42': 624,
            '50': 558,
            product: 'Aloe Plus - 60 capsules',
            Qty: 1,
            volume: 9.4,
            MRP: 970,
            retailPrice: 822,
            earnBase: 699
        },
        'Herbal-Aloe-Concentrate---Unflavored-(Original)---500-ml': {
            '25': 1944,
            '35': 1734,
            '42': 1587,
            '50': 1419,
            product: 'Herbal Aloe Concentrate - Unflavored (Original) - 500 ml',
            Qty: 1,
            volume: 24.95,
            MRP: 2469,
            retailPrice: 2092,
            earnBase: 1779
        },
        'Simply-Probiotic---1gms-*-30-Sachets': {
            '25': 1621,
            '35': 1460,
            '42': 1348,
            '50': 1219,
            product: 'Simply Probiotic - 1gms * 30 Sachets',
            Qty: 1,
            volume: 21.95,
            MRP: 2023,
            retailPrice: 1714,
            earnBase: 1362
        },
        'Herbalife-Calcium-Tablets---60-tablets': {
            '25': 867,
            '35': 773,
            '42': 707,
            '50': 632,
            product: 'Herbalife Calcium Tablets - 60 tablets',
            Qty: 1,
            volume: 10.25,
            MRP: 1101,
            retailPrice: 933,
            earnBase: 794
        },
        'Joint-Support---90-tablets': {
            '25': 1770,
            '35': 1579,
            '42': 1445,
            '50': 1292,
            product: 'Joint Support - 90 tablets',
            Qty: 1,
            volume: 20.9,
            MRP: 2248,
            retailPrice: 1905,
            earnBase: 1620
        },
        'Herbalife-Niteworks---300-gms': {
            '25': 5140,
            '35': 4585,
            '42': 4197,
            '50': 3753,
            product: 'Herbalife Niteworks - 300 gms',
            Qty: 1,
            volume: 75,
            MRP: 6528,
            retailPrice: 5532,
            earnBase: 4703
        },
        'Herbalifeline---60-softgels': {
            '25': 1923,
            '35': 1716,
            '42': 1570,
            '50': 1404,
            product: 'Herbalifeline - 60 softgels',
            Qty: 1,
            volume: 25.75,
            MRP: 2443,
            retailPrice: 2070,
            earnBase: 1760
        },
        'Beta-Heart---Vanilla-Flavour--15-gms-*-15-Sachets': {
            '25': 1674,
            '35': 1523,
            '42': 1417,
            '50': 1296,
            product: 'Beta Heart - Vanilla Flavour -15 gms * 15 Sachets',
            Qty: 1,
            volume: 19.55,
            MRP: 2054,
            retailPrice: 1740,
            earnBase: 1284
        },
        'Multivitamin-Mineral-&-Herbal--90-tablets': {
            '25': 1444,
            '35': 1288,
            '42': 1179,
            '50': 1054,
            product: 'Multivitamin Mineral & Herbal -90 tablets',
            Qty: 1,
            volume: 19.95,
            MRP: 1834,
            retailPrice: 1554,
            earnBase: 1321
        },
        'Cell-Activator---New---60-Tablets': {
            '25': 1597,
            '35': 1425,
            '42': 1304,
            '50': 1166,
            product: 'Cell Activator - New - 60 Tablets',
            Qty: 1,
            volume: 21.95,
            MRP: 2029,
            retailPrice: 1719,
            earnBase: 1462
        },
        'Cell-U-Loss-Advanced---90-Tablets': {
            '25': 1229,
            '35': 1097,
            '42': 1004,
            '50': 897,
            product: 'Cell-U-Loss Advanced - 90 Tablets',
            Qty: 1,
            volume: 15.75,
            MRP: 1562,
            retailPrice: 1323,
            earnBase: 1125
        },
        'Herbal-Control--90-Tablets': {
            '25': 2475,
            '35': 2208,
            '42': 2021,
            '50': 1807,
            product: 'Herbal Control -90 Tablets',
            Qty: 1,
            volume: 32.95,
            MRP: 3144,
            retailPrice: 2664,
            earnBase: 2265
        }
    }

    var arr = [
        'Formula 1',
        'PPP-200',
        'PPP-400',
        'ShakeMate',
        'Protein Bites',
        "Woman's Choice",
        'Vritilife Brain Health - 60 tablets',
        'Vritilife Immune Health - 60 tablets',
        'Afresh Energy Drink- 50 gms',
        'Afresh Energy Drink Mix - Tulsi (Basil) - 50 gms',
        'H24 Hydrate - 5gms * 20 Sachets',
        'H24 Rebuild Strength - 50gms * 10 Sachets',
        'Hn-Skin Booster - Orange - 10gms * 30 Sachets',
        'DinoShakeTM - Chocolicious - 200 gms',
        'Activated Fiber - 90 tablets',
        'Active Fiber Complex -Unflavoured - 200 gms',
        'Aloe Plus - 60 capsules',
        'Herbal Aloe Concentrate - Unflavored (Original) - 500 ml',
        'Simply Probiotic - 1gms * 30 Sachets',
        'Herbalife Calcium Tablets - 60 tablets',
        'Joint Support - 90 tablets',
        'Herbalife Niteworks - 300 gms',
        'Herbalifeline - 60 softgels',
        'Beta Heart - Vanilla Flavour -15 gms * 15 Sachets',
        'Multivitamin Mineral & Herbal -90 tablets',
        'Cell Activator - New - 60 Tablets',
        'Cell-U-Loss Advanced - 90 Tablets',
        'Herbal Control -90 Tablets'
    ]

</script>
<script>

    // console.log(data, arr)
    var totPrice = 0
    var totVolume = 0
    var count = 0;
    var cartData = []
    var addBtn = document.getElementById("addBth")

    var funADD = () => {
        console.log("hello")
        var table = document.getElementById("table")
        var tr = document.createElement("tr")
        var sNO = document.createElement("td")
        sNO.textContent = count + 1
        var tpn = document.createElement("td")
        var select = document.createElement("select")
        var str = ""
        for (var i = 0; i < arr.length; i++) {
            str += `<option value=${arr[i].split(" ").join("-")}>${arr[i]}</option>`
        }
        select.innerHTML = str
        var item = data[select.value]


        tpn.append(select)

        var tqt = document.createElement("td")
        var tqinput = document.createElement("input")
        tqinput.type = "number"
        tqt.append(tqinput)

        var tvol = document.createElement("td")
        var tforty = document.createElement("td")


        var tprice = document.createElement("td")

        var tdADD = document.createElement("td")
        var calbtn = document.createElement("button")
        calbtn.id = `calbtn-${count}`
        calbtn.className = "calButton"
        calbtn.textContent = "ADD"



        //add bth function
        calbtn.onclick = (e) => {
            var current = { ...data[select.value] }
            var itemQua = tqinput.value
            current.Qty = +itemQua || 1

            cartData[calbtn.id.split("-")[1]] = current
            console.log(cartData, calbtn.id)
            tvol.textContent = current.volume * itemQua
            tforty.textContent = current[42] * itemQua
            tprice.textContent = current[50] * itemQua
            // console.log(tpn, itemQua, select.value, data[select.value])
            var tempVol = 0
            var tempPrice = 0
            var temp40price = 0
            for (var j = 0; j < cartData.length; j++) {
                tempVol += (cartData[j].volume * cartData[j].Qty)
                tempPrice += (cartData[j][50] * cartData[j].Qty)
                temp40price += (cartData[j][42] * cartData[j].Qty)
            }

            document.getElementById("totalPrice").textContent = `50% Total Price: ${tempPrice}`
            document.getElementById("totalVol").textContent = `Total Volume: ${tempVol}`
            document.getElementById("fortyDiscounted").textContent = `42% Total Price: ${temp40price}`

        }
        tdADD.append(calbtn)
        tr.append(sNO, tpn, tqt, tvol, tforty, tprice, tdADD)
        table.append(tr)
        count++
    }

    addBtn.onclick = funADD
    funADD()
    // function onDataChange(item, q) {


    // }

</script>